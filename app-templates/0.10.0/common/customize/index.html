<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../../../favicon.ico">
  
  <title>Customizing an app-template - DataTorrent Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Customizing an app-template";
    var mkdocs_page_input_path = "app-templates/0.10.0/common/customize.md";
    var mkdocs_page_url = "/app-templates/0.10.0/common/customize/";
  </script>
  
  <script src="../../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../../../js/highlight.pack.js"></script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-44586211-2', 'docs.datatorrent.com');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../../.." class="icon icon-home"> DataTorrent Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../../..">DataTorrent RTS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Demos</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../../demos/">Running Apps</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../../sandbox/">Sandbox</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Cloud Integration</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../../aws_emr_manual/">AWS</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Development</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../../create/">Creating Applications</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../beginner/">Beginner's Guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../demo_videos/">Videos</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Tutorials</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <span class="caption-text">Top N Words</span>
    <ul class="subnav">
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/topnwords/">Introduction</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/topnwords-c1/">Development Environment</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/topnwords-c2/">Building in Java</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/topnwords-c3/">Building with dtAssemble</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/topnwords-c4/">Monitoring with dtManage</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/topnwords-c5/">Visualizing with dtDashboard</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/topnwords-c7/">Advanced Features</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/topnwords-c6/">Appendix</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3">
                    
    <span class="caption-text">Sales Dimensions</span>
    <ul class="subnav">
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/salesdimensions/">Building in Java</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/salesdimensions-c2/">Building with dtAssemble</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/salesdimensions-c3/">Visualizing with dtDashboard</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../../tutorials/salesdimensions-c4/">Monitoring with dtManage</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../../../../apex_development_setup/">Apex Development Setup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../configure_IDE/">Generate New Project in IDE</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../application_development/">Applications</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../application_packages/">Application Packages</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../configuration_packages/">Configuration Packages</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../operator_development/">Operators</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Library Operators</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../../../library_operators/">List of Operators</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../../operators/block_reader/">Block Reader</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../../operators/deduper/">Deduper</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../../operators/dimensions_computation/">Dimension Computation</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../../operators/file_output/">File Output</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../../operators/file_splitter/">File Splitter</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../../operators/hdht/">HDHT</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../../operators/kafkaInputOperator/">Kafka Input</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../../operators/snapshot_server/">Snapshot Server</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../../../../app_data_framework/">App Data Framework</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../dtgateway_api/">REST API</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">App Templates</span>
    <ul class="subnav">
                <li class=" current">
                    
    <span class="caption-text">0.10.0</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../import-launch/">Import and Launch App-template</a>
                </li>
                <li class="toctree-l3 current">
                    
    <a class="current" href="./">Customizing an app-template</a>
    <ul class="subnav">
            
    <li class="toctree-l4"><a href="#how-to-customize-an-app-template">How to customize an app-template</a></li>
    
        <ul>
        
            <li><a class="toctree-l5" href="#steps-to-customize-the-application">Steps to customize the application</a></li>
        
            <li><a class="toctree-l5" href="#note-on-customization">Note on customization</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../database-to-database-sync/">Database-to-database-sync</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../hdfs-line-copy/">HDFS-line-copy</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../hdfs-part-file-copy/">HDFS-part-file-copy</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../hdfs-to-hdfs-filter-transform/">HDFS-to-HDFS-filter-transform</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../kafka-to-cassandra-filter-transform/">Kafka-to-Cassandra-Filter-Transform</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../kafka-to-database-sync/">Kafka-to-Database-sync</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../kafka-to-hdfs-filter-transform/">Kafka-to-HDFS-Filter-Transform</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../kafka-to-kafka-filter-transform/">Kafka-to-Kafka-Filter-Transform</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../kinesis-to-redshift/">Kinesis-to-Redshift</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../kinesis-to-s3/">Kinesis-to-S3</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../s3-to-hdfs-sync/">S3-to-HDFS-sync</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../s3-to-redshift/">S3-to-HDFS-Filter-Transform</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../../../database-to-hdfs/">Database dump to HDFS App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../database-to-database-sync/">Database to Database Sync App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../hdfs-sync/">HDFS Sync App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../hdfs-line-copy/">HDFS to HDFS Line Copy App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../hdfs-to-kafka-sync/">HDFS to Kafka Sync App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../hdfs-to-s3-sync/">HDFS to S3 Sync App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kafka-to-database-sync/">Kafka to Database Sync App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kafka-to-hdfs-filter/">Kafka to HDFS Filter App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kafka-to-hdfs-sync/">Kafka to HDFS Sync App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kinesis-to-s3/">Kinesis to S3 App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../s3-to-hdfs-sync/">S3 to HDFS Sync App</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Applications</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../../app_data_tracker/">App Data Tracker</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../dtingest/">dtIngest</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Platform</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../../rts/">RTS</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../application_configurations/">Application Configurations</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../dtmanage/">dtManage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../dtassemble/">dtAssemble</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../dtdashboard/">dtDashboard</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../dtgateway/">dtGateway</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../dtgateway_systemalerts/">Alerts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../apex/">Apache Apex</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../apex_malhar/">Apache Apex-Malhar</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Deployment and Operations</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../../installation/">Installation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../configuration/">Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../dtgateway_security/">Security</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../dtgateway_systemalerts/">System Alerts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../apexcli/">Apex CLI</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../../troubleshooting/">Troubleshooting</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../../release_notes/">Release Notes</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../../glossary/">Glossary</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../../additional_docs/">Resources</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../..">DataTorrent Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../..">Docs</a> &raquo;</li>
    
      
        
          <li>App Templates &raquo;</li>
        
      
        
          <li>0.10.0 &raquo;</li>
        
      
    
    <li>Customizing an app-template</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="how-to-customize-an-app-template">How to customize an app-template</h1>
<p>This document describes how to customize an app-template.</p>
<h2 id="steps-to-customize-the-application"><a name="customization-steps">Steps to customize the application</a></h2>
<ol>
<li>
<p>Make sure you have following utilities installed on your machine and available on <code>PATH</code> in environment variable:</p>
<ul>
<li><a href="https://www.java.com/en/download/manual.jsp">Java</a> : 1.7.x</li>
<li><a href="http://maven.apache.org/download.cgi">maven</a> : 3.0.5 +</li>
<li><a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">git</a> : 1.7 +</li>
<li><a href="http://www.michael-noll.com/tutorials/running-hadoop-on-ubuntu-linux-single-node-cluster/">Hadoop</a> (Apache-2.6.0)+</li>
</ul>
</li>
<li>
<p>Use following command to clone the repository:</p>
<p><code>git clone git@github.com:DataTorrent/moodI.git</code></p>
</li>
<li>
<p>Change directory to containing app-template you wish to customize:</p>
<p><code>cd moodI/app-templates/kafka-to-hdfs-filter-transform/</code></p>
</li>
<li>
<p>Import this maven project in your favorite IDE (e.g. eclipse).</p>
</li>
<li>
<p>Change the source code as per your requirements.</p>
</li>
<li>
<p>Make respective changes in the test case and <code>properties.xml</code> based on your environment.</p>
</li>
<li>
<p>Compile this project using maven:</p>
<p><code>mvn clean package</code></p>
<p>This will generate the application package file with <code>.apa</code> extension in the <code>target</code> directory.</p>
</li>
<li>
<p>Go to DataTorrent UI Management console on web browser. Click on the <code>Develop</code> tab from the top navigation bar.
    <img alt="Develop tab" src="../../../images/common/develop_link.png" /></p>
</li>
<li>
<p>Click on <code>upload package</code> button and upload the generated <code>.apa</code> file.
    <img alt="Upload" src="../../../images/common/upload.png" /></p>
</li>
<li>
<p>Application package page is shown with the listing of all packages. Click on the <code>Launch</code> button for the uploaded application package. Follow the <a href="../../import-launch/#launch-dialogue">steps</a> for launching an application.</p>
</li>
</ol>
<h2 id="note-on-customization">Note on customization</h2>
<ol>
<li>
<p><code>Application.java</code> defines the Application class which defines the application pipeline. Application is represented as directed acyclic graph (DAG). Vertices of the graph represents operators or computational units. Edges represents data flow or streams.</p>
</li>
<li>
<p><code>Application</code> class implements <code>StreamingApplication</code> interface by defining implementation for <code>populateDAG</code> method .</p>
</li>
<li>
<p><code>populateDAG</code> methods receives an argument with an instance of DAG object. App developers can add operators, streams to this dag object to define the pipeline based on the need.</p>
</li>
<li>
<p>Second argument to <code>populateDAG</code> method is an instance of Configuration object.
All the properties specified in <code>properties.xml</code> will be available through this configuration object.</p>
</li>
<li>
<p>Most of the commonly used functionality, connectors are available in <a href="https://github.com/DataTorrent/moodI">moodI</a>, <a href="https://github.com/apache/apex-malhar/">malhar</a> operator library. If required functionality is not available in the operator library; one can implement own operators for custom computations.</p>
</li>
<li>
<p>Add the operators to the DAG using <code>dag.addOperator()</code> API and connect the operators with upstream, downstream operators using <code>dag.addStream()</code> API.</p>
<p>For example, suppose one needs to modify <code>kafka-to-hdfs-filter-transform</code> such that count of tuples discarded by the filter operator should be displayed on the console. This can be achived by adding following code to <code>populateDAG</code> method in <code>Application.java</code>:</p>
</li>
</ol>
<pre><code class="java">
Counter counter = dag.addOperator(&quot;counter&quot;, Counter.class);
ConsoleOutputOperator console = dag.addOperator(&quot;console&quot;, ConsoleOutputOperator.class);
dag.addStream(&quot;FilteredOut&quot;, filterOperator.falsePort, counter.input);
dag.addStream(&quot;FilteredOutToConsole&quot;, counter.output, console.input);
</code></pre>

<p>Follow the <a href="#customization-steps">customization steps</a> for applying your changes.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../database-to-database-sync/" class="btn btn-neutral float-right" title="Database-to-database-sync">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../import-launch/" class="btn btn-neutral" title="Import and Launch App-template"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../import-launch/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../database-to-database-sync/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../../../js/theme.js"></script>

</body>
</html>
