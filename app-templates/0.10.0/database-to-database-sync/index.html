<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../../favicon.ico">
  
  <title>Database-to-database-sync - DataTorrent Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Database-to-database-sync";
    var mkdocs_page_input_path = "app-templates/0.10.0/database-to-database-sync.md";
    var mkdocs_page_url = "/app-templates/0.10.0/database-to-database-sync/";
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../../js/highlight.pack.js"></script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-44586211-2', 'docs.datatorrent.com');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> DataTorrent Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../..">DataTorrent RTS</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Demos</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../demos/">Running Apps</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../sandbox/">Sandbox</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Cloud Integration</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../aws_emr_manual/">AWS</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Development</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../create/">Creating Applications</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../beginner/">Beginner's Guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../demo_videos/">Videos</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Tutorials</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <span class="caption-text">Top N Words</span>
    <ul class="subnav">
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/topnwords/">Introduction</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/topnwords-c1/">Development Environment</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/topnwords-c2/">Building in Java</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/topnwords-c3/">Building with dtAssemble</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/topnwords-c4/">Monitoring with dtManage</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/topnwords-c5/">Visualizing with dtDashboard</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/topnwords-c7/">Advanced Features</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/topnwords-c6/">Appendix</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l3">
                    
    <span class="caption-text">Sales Dimensions</span>
    <ul class="subnav">
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/salesdimensions/">Building in Java</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/salesdimensions-c2/">Building with dtAssemble</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/salesdimensions-c3/">Visualizing with dtDashboard</a>
                </li>
                <li class="toctree-l4">
                    
    <a class="" href="../../../tutorials/salesdimensions-c4/">Monitoring with dtManage</a>
                </li>
    </ul>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../../../apex_development_setup/">Apex Development Setup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../configure_IDE/">Generate New Project in IDE</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../application_development/">Applications</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../application_packages/">Application Packages</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../configuration_packages/">Configuration Packages</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../operator_development/">Operators</a>
                </li>
                <li class="">
                    
    <span class="caption-text">Library Operators</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../../library_operators/">List of Operators</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../operators/block_reader/">Block Reader</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../operators/deduper/">Deduper</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../operators/dimensions_computation/">Dimension Computation</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../operators/file_output/">File Output</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../operators/file_splitter/">File Splitter</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../operators/hdht/">HDHT</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../operators/kafkaInputOperator/">Kafka Input</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../../operators/snapshot_server/">Snapshot Server</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../../../app_data_framework/">App Data Framework</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dtgateway_api/">REST API</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">App Templates</span>
    <ul class="subnav">
                <li class=" current">
                    
    <span class="caption-text">0.10.0</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../common/import-launch/">Import and Launch App-template</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../common/customize/">Customizing an app-template</a>
                </li>
                <li class="toctree-l3 current">
                    
    <a class="current" href="./">Database-to-database-sync</a>
    <ul class="subnav">
            
    <li class="toctree-l4"><a href="#database-to-database-sync-application">Database to Database Sync Application</a></li>
    
        <ul>
        
            <li><a class="toctree-l5" href="#summary">Summary</a></li>
        
            <li><a class="toctree-l5" href="#quick-links">Quick links</a></li>
        
            <li><a class="toctree-l5" href="#required-properties">Required Properties</a></li>
        
            <li><a class="toctree-l5" href="#advanced-properties-optional">Advanced Properties (optional)</a></li>
        
            <li><a class="toctree-l5" href="#notes">Notes</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../hdfs-line-copy/">HDFS-line-copy</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../hdfs-part-file-copy/">HDFS-part-file-copy</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../hdfs-to-hdfs-filter-transform/">HDFS-to-HDFS-filter-transform</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../kafka-to-cassandra-filter-transform/">Kafka-to-Cassandra-Filter-Transform</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../kafka-to-database-sync/">Kafka-to-Database-sync</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../kafka-to-hdfs-filter-transform/">Kafka-to-HDFS-Filter-Transform</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../kafka-to-kafka-filter-transform/">Kafka-to-Kafka-Filter-Transform</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../kinesis-to-redshift/">Kinesis-to-Redshift</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../kinesis-to-s3/">Kinesis-to-S3</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../s3-to-hdfs-sync/">S3-to-HDFS-sync</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../s3-to-redshift/">S3-to-HDFS-Filter-Transform</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../../database-to-hdfs/">Database dump to HDFS App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../database-to-database-sync/">Database to Database Sync App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../hdfs-sync/">HDFS Sync App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../hdfs-line-copy/">HDFS to HDFS Line Copy App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../hdfs-to-kafka-sync/">HDFS to Kafka Sync App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kafka-to-database-sync/">Kafka to Database Sync App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kafka-to-hdfs-filter/">Kafka to HDFS Filter App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kafka-to-hdfs-sync/">Kafka to HDFS Sync App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kinesis-to-s3/">Kinesis to S3 App</a>
                </li>
                <li class="">
                    
    <a class="" href="../../s3-to-hdfs-sync/">S3 to HDFS Sync App</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Applications</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../app_data_tracker/">App Data Tracker</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dtingest/">dtIngest</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Platform</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../rts/">RTS</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../application_configurations/">Application Configurations</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dtmanage/">dtManage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dtassemble/">dtAssemble</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dtdashboard/">dtDashboard</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dtgateway/">dtGateway</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dtgateway_systemalerts/">Alerts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../apex/">Apache Apex</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../apex_malhar/">Apache Apex-Malhar</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Deployment and Operations</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../installation/">Installation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../configuration/">Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dtgateway_security/">Security</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dtgateway_systemalerts/">System Alerts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../apexcli/">Apex CLI</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../troubleshooting/">Troubleshooting</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../release_notes/">Release Notes</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../glossary/">Glossary</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../additional_docs/">Resources</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">DataTorrent Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>App Templates &raquo;</li>
        
      
        
          <li>0.10.0 &raquo;</li>
        
      
    
    <li>Database-to-database-sync</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="database-to-database-sync-application">Database to Database Sync Application</h1>
<h2 id="summary">Summary</h2>
<p>This application demonstrates continuous archival of big data from database tables.
Application connects to the source database table over JDBC connection and continuously polls for new data. This database rows from source table are archieved in the destination database in scalable, fault-tolerent fashion. Application also allows to do custom transformations on the rows before they are copied to the destination.</p>
<h2 id="quick-links">Quick links</h2>
<ul>
<li>
<p><a
    href="../common/import-launch"  class="docs" id="docs" ga-track="docs"
    target="_blank">How to import and launch an app-template</a></p>
</li>
<li>
<p><a
    href="../common/customize"  class="docs" id="docs" ga-track="docs"
    target="_blank">How to customize an app-template</a></p>
</li>
<li>
<p><a
    href="https://github.com/DataTorrent/moodI/tree/master/app-templates/kafka-to-hdfs-filter-transform"  class="docs" id="docs" ga-track="docs"
    target="_blank">README for the application</a></p>
</li>
<li>
<p><a
   href="https://github.com/DataTorrent/moodI/tree/master/app-templates/kafka-to-hdfs-filter-transform"  class="github" id="github" ga-track="github" target="_blank">Source code</a></p>
</li>
<li>
<p>Please send feedback or feature requests to :
    <a href="mailto:feedback@datatorrent.com"  class="feedback" id="feedback" ga-track="feedback">feedback@datatorrent.com</a></p>
</li>
<li>
<p>Join our user discussion group at :
    <a href="mailto:dt-users@googlegroups.com"  class="maillist" id="maillist" ga-track="maillist">dt-users@googlegroups.com</a></p>
</li>
</ul>
<h2 id="required-properties">Required Properties</h2>
<p>End user must specify the values for these properties.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Jdbc Input Database Url</td>
<td>String</td>
<td>jdbc:postgresql://node1 .corp1.com:5432/testdb</td>
<td>Connection URL for the source database.</td>
</tr>
<tr>
<td>Jdbc Input Store Password</td>
<td>String</td>
<td>postgres</td>
<td>Password for source database</td>
</tr>
<tr>
<td>Jdbc Input Store Username</td>
<td>String</td>
<td>postgres</td>
<td>Username for source database</td>
</tr>
<tr>
<td>Jdbc Input Table Name</td>
<td>String</td>
<td>test_event_input_table</td>
<td>Source table name</td>
</tr>
<tr>
<td>Jdbc Output Database Url</td>
<td>String</td>
<td>jdbc:postgresql://dest1 .corp1.com:5432/testdb</td>
<td>Connection URL for the destination database.</td>
</tr>
<tr>
<td>Jdbc Output Store Password</td>
<td>String</td>
<td>postgres</td>
<td>Password for destination database</td>
</tr>
<tr>
<td>Jdbc Output Store Username</td>
<td>String</td>
<td>postgres</td>
<td>Username for destination database</td>
</tr>
<tr>
<td>Jdbc Output Table Name</td>
<td>String</td>
<td>test_event_output_table</td>
<td>Destination table name</td>
</tr>
</tbody>
</table>
<h2 id="advanced-properties-optional">Advanced Properties (optional)</h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Default</th>
<th>Type</th>
<th>Example</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Batch Size For Jdbc Input</td>
<td>300</td>
<td>int</td>
<td>1000</td>
<td>No of rows to fetch in single query for input.</td>
</tr>
<tr>
<td>Columns Expressions</td>
<td>ACCOUNT_NO, NAME, AMOUNT</td>
<td>String</td>
<td>column1_name, column2_name, column3_name</td>
<td>Comma separated list of columns to select from the source table.</td>
</tr>
<tr>
<td>Jdbc Input Database Driver</td>
<td>org.postgresql .Driver</td>
<td>String</td>
<td>org.postgresql .Driver</td>
<td>FQCN for jdbc driver class for source database</td>
</tr>
<tr>
<td>Jdbc Output Database Driver</td>
<td>org.postgresql .Driver</td>
<td>String</td>
<td>org.postgresql .Driver</td>
<td>FQCN for jdbc driver class for destination database</td>
</tr>
<tr>
<td>Number Of Partition Required</td>
<td>4</td>
<td>int</td>
<td>2</td>
<td>Number of partitions for reading data from JDBC source database. There will one additional partition used for polling the databse.</td>
</tr>
<tr>
<td>Tuple Class Name For Jdbc Input</td>
<td>com.datatorrent. apps.PojoEvent</td>
<td>String</td>
<td>com.datatorrent. apps.PojoEvent</td>
<td>POJO class representing input database row</td>
</tr>
<tr>
<td>Tuple Class Name For Jdbc Output</td>
<td>com.datatorrent. apps.PojoEvent</td>
<td>String</td>
<td>com.datatorrent. apps.PojoEvent</td>
<td>POJO class representing input database row.</td>
</tr>
<tr>
<td>Tuple Class Name For Transform Input</td>
<td>com.datatorrent. apps.PojoEvent</td>
<td>String</td>
<td>com.datatorrent. apps.PojoEvent</td>
<td>POJO class representing input for transform operator (if included in the DAG. Not included by default).</td>
</tr>
<tr>
<td>Tuple Class Name For Transform Output</td>
<td>com.datatorrent. apps.PojoEvent</td>
<td>String</td>
<td>com.datatorrent. apps.PojoEvent</td>
<td>POJO class representing output for transform operator (if included in the DAG. Not included by default).</td>
</tr>
<tr>
<td>Unique Key For Range Queries</td>
<td>ACCOUNT_NO</td>
<td>String</td>
<td>id</td>
<td>Column to be used for partitioning.</td>
</tr>
<tr>
<td>Where Condition</td>
<td></td>
<td>String</td>
<td></td>
<td>Where condition used for filtering rows from source table. Empty string indicates select all rows.</td>
</tr>
</tbody>
</table>
<h2 id="notes">Notes</h2>
<ul>
<li>
<p>Application is configured for pre-defined schema mentioned <a href="https://github.com/DataTorrent/moodI/blob/master/app-templates/database-to-database-sync/src/main/java/com/datatorrent/apps/PojoEvent.java">here</a>. For using this application for custom schema objects; changes will be needed in <a href="https://github.com/DataTorrent/moodI/blob/master/app-templates/database-to-database-sync/src/main/java/com/datatorrent/apps/Application.java#L105-L140">Application.java</a>. One can define field info mapping for the input fields in <a href="https://github.com/DataTorrent/moodI/blob/master/app-templates/database-to-database-sync/src/main/java/com/datatorrent/apps/Application.java#L105-L120">addInputFieldInfos()</a>. Simillarly,
field info mapping for the output fields can be defined in  <a href="https://github.com/DataTorrent/moodI/blob/master/app-templates/database-to-database-sync/src/main/java/com/datatorrent/apps/Application.java#L126-L141">addOutputFieldInfos()</a>.</p>
</li>
<li>
<p><a href="https://github.com/DataTorrent/moodI/blob/master/app-templates/database-to-database-sync/src/main/java/com/datatorrent/apps/PojoEvent.java">PojoEvent</a> is the POJO (plain old java objects used for representing record present in the database row). One can define custom class to represent custom schema and include it in the classpath. <a href="http://docs.datatorrent.com/configuration_packages/">Configuration package</a> can be used for this purpose.</p>
</li>
<li>
<p>This application has been tested with PostgreSQL database. But, this can be used on other databases like MySQL, Oracle etc provided that JDBC client jar for the same is available in the classpath. Please specify <code>Jdbc Input Database Driver</code>, <code>Jdbc Output Database Driver</code> properties to point to respective driver class for the database you are connecting to.</p>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../hdfs-line-copy/" class="btn btn-neutral float-right" title="HDFS-line-copy">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../common/customize/" class="btn btn-neutral" title="Customizing an app-template"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../common/customize/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../hdfs-line-copy/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../../js/theme.js"></script>

</body>
</html>
